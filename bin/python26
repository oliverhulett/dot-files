#!/bin/bash

PYTHON=
THIS="$(readlink -f "$0")"
found_this="n"
for exe in $(/usr/bin/which -a python26 2>/dev/null); do
	if [ "$(readlink -f "$exe")" == "$THIS" ]; then
		found_this="y"
		continue
	fi
	if [ "$found_this" == "y" ]; then
		PYTHON="$exe"
		break
	fi
done

## If we couldn't find a legit python26, fallback to python or python27
if [ -z "$PYTHON" ]; then
	PYTHON="$(/usr/bin/which python2.6 python-26 python-2.6 python python27 python2.7 python-27 python-2.7 2>/dev/null | head -n1)"
fi
if [ -z "$PYTHON" ]; then
	PYTHON="python"
fi

"$PYTHON" "$@"

